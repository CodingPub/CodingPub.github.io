<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="喜欢在夜深人静的时候敲键盘"><title>Python爬虫入门-基础知识 | Coding Pub</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python爬虫入门-基础知识</h1><a id="logo" href="/.">Coding Pub</a><p class="description">猎户座</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python爬虫入门-基础知识</h1><div class="post-meta">Sep 5, 2016<span> | </span><span class="category"><a href="/categories/Python/">Python</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/09/05/Python爬虫入门-基础知识/" href="/2016/09/05/Python爬虫入门-基础知识/#disqus_thread" class="disqus-comment-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#输入-amp-输出"><span class="toc-number">1.</span> <span class="toc-text">输入&输出</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#输出"><span class="toc-number">1.1.</span> <span class="toc-text">输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输入"><span class="toc-number">1.2.</span> <span class="toc-text">输入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据类型和变量"><span class="toc-number">2.</span> <span class="toc-text">数据类型和变量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串表示"><span class="toc-number">2.1.</span> <span class="toc-text">字符串表示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布尔值"><span class="toc-number">2.2.</span> <span class="toc-text">布尔值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#空值"><span class="toc-number">2.3.</span> <span class="toc-text">空值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量"><span class="toc-number">2.4.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常量"><span class="toc-number">2.5.</span> <span class="toc-text">常量</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串操作"><span class="toc-number">3.</span> <span class="toc-text">字符串操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#编码转换"><span class="toc-number">3.1.</span> <span class="toc-text">编码转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#长度计算"><span class="toc-number">3.2.</span> <span class="toc-text">长度计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#格式化"><span class="toc-number">3.3.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#匹配和搜索文本"><span class="toc-number">3.4.</span> <span class="toc-text">匹配和搜索文本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串拼凑"><span class="toc-number">3.5.</span> <span class="toc-text">字符串拼凑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串分割、合并"><span class="toc-number">3.6.</span> <span class="toc-text">字符串分割、合并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串替换"><span class="toc-number">3.7.</span> <span class="toc-text">字符串替换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#去除两侧字符"><span class="toc-number">3.8.</span> <span class="toc-text">去除两侧字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式"><span class="toc-number">3.9.</span> <span class="toc-text">正则表达式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#list-amp-tuple"><span class="toc-number">4.</span> <span class="toc-text">list & tuple</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#list"><span class="toc-number">4.1.</span> <span class="toc-text">list</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#初始化和检索"><span class="toc-number">4.1.1.</span> <span class="toc-text">初始化和检索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入、删除、替换元素"><span class="toc-number">4.1.2.</span> <span class="toc-text">插入、删除、替换元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tuple"><span class="toc-number">4.2.</span> <span class="toc-text">tuple</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dict-amp-set"><span class="toc-number">5.</span> <span class="toc-text">dict & set</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#dict"><span class="toc-number">5.1.</span> <span class="toc-text">dict</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#初始化和检索-1"><span class="toc-number">5.1.1.</span> <span class="toc-text">初始化和检索</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set"><span class="toc-number">5.2.</span> <span class="toc-text">set</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#初始化、检索set"><span class="toc-number">5.2.1.</span> <span class="toc-text">初始化、检索set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加、删除元素"><span class="toc-number">5.2.2.</span> <span class="toc-text">添加、删除元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#交集、并集"><span class="toc-number">5.2.3.</span> <span class="toc-text">交集、并集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入、删除、替换元素-1"><span class="toc-number">5.2.4.</span> <span class="toc-text">插入、删除、替换元素</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#条件判断"><span class="toc-number">6.</span> <span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#循环"><span class="toc-number">7.</span> <span class="toc-text">循环</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#高级特性"><span class="toc-number">8.</span> <span class="toc-text">高级特性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#切片"><span class="toc-number">8.1.</span> <span class="toc-text">切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#迭代"><span class="toc-number">8.2.</span> <span class="toc-text">迭代</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#list-1"><span class="toc-number">8.2.1.</span> <span class="toc-text">list</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dict-1"><span class="toc-number">8.2.2.</span> <span class="toc-text">dict</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#结尾"><span class="toc-number">9.</span> <span class="toc-text">结尾</span></a></li></ol></div></div><div class="post-content"><p>这篇博文主要介绍 Python3 的一些常用语法，因为大部分基础语法在廖雪峰大神的 <a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="external">Python 教程</a> 都有详细的介绍，此文主要介绍一些常用的入门知识，并提供详细知识点的学习链接。</p>
<a id="more"></a>
<h1 id="输入-amp-输出"><a href="#输入-amp-输出" class="headerlink" title="输入&amp;输出"></a>输入&amp;输出</h1><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>用 <code>print()</code> 在括号中加上字符串，就可以向屏幕上输出指定的文字，<code>print()</code> 方法支持可变参数，支持同时打印多个值，用逗号隔开，遇到逗号时会输出一个空格。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="built_in">print</span>(<span class="string">'The quick brown fox'</span>, <span class="string">'jumps over'</span>, <span class="string">'the lazy dog'</span>)</span></div><div class="line">The quick brown fox jumps over the lazy dog</div></pre></td></tr></table></figure>
<p><code>print()</code> 还可以直接打印表达式的运算结果</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; print('<span class="number">100</span> + <span class="number">200</span> =', <span class="number">100</span> + <span class="number">200</span>)</div><div class="line"><span class="number">100</span> + <span class="number">200</span> = <span class="number">300</span></div></pre></td></tr></table></figure>
<h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>之所以把输入放到输出的后面，是因为就爬虫而言，输入实在很少用，即使有定制的需求，通常也是通过读取配置文件实现。笔者目前唯一用到输入的功能，就是在程序运行结束后等待用户输入确认再退出程序，避免程序运行结束后自动退出，因为自动退出会让用户误以为是闪退。</p>
<p>有需要了解输入部分的请看<a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431643484137e38b44e5925440ec8b1e4c70f800b4e2000" target="_blank" rel="external">这里</a>，把下面的代码加到程序最后就可以等待用户确认后再退出程序：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="title">input</span><span class="params">(<span class="string">'enter anything to exit: '</span>)</span></span></div></pre></td></tr></table></figure>
<p>当然也可以通过线程睡眠达到这个效果，但是笔者认为它即麻烦又不够友好，并不建议使用。</p>
<h1 id="数据类型和变量"><a href="#数据类型和变量" class="headerlink" title="数据类型和变量"></a>数据类型和变量</h1><p>Python 基础数据类型包括 int、float、str、bool、None，分别是整形、浮点型、字符串、布尔值、空值。</p>
<p>其中整形和浮点型不多介绍，跟其他语言差别不大。</p>
<h2 id="字符串表示"><a href="#字符串表示" class="headerlink" title="字符串表示"></a>字符串表示</h2><p>字符串可以用单引号或双引号括起来，具体使用哪个看个人习惯或团队约定，建议是单个项目使用统一的约定。如果字符串内部既包含 <code>&#39;</code> 又包含 <code>&quot;</code>，Python 的处理和大部分语言一样，可以在引号的前面加上转义字符 <code>\</code> 来标识。</p>
<p>如果字符串里面有很多字符都需要转义，就需要加很多 <code>\</code>，为了简化，Python还允许用 <code>r&#39;&#39;</code> 表示 <code>&#39;&#39;</code> 内部的字符串默认不转义：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'\\\t\\'</span>)</div><div class="line">\       \</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'\\\t\\'</span>)</div><div class="line">\\\t\\</div></pre></td></tr></table></figure>
<p>如果字符串内部有很多换行，用\n写在一行里不好阅读，为了简化，Python允许用 <code>&#39;&#39;&#39;...&#39;&#39;&#39;</code> 的格式表示多行内容：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">print(<span class="string">'''line1</span></div><div class="line">line2</div><div class="line">line3''')</div></pre></td></tr></table></figure>
<p>多行字符串 <code>&#39;&#39;&#39;...&#39;&#39;&#39;</code> 还可以在前面加上 <code>r</code> 使用。</p>
<h2 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h2><p>布尔值只有 <code>True</code> 和 <code>False</code> 两种值，可以用 <code>and</code>、<code>or</code>、<code>not</code> 对布尔值进行运算操作，这相对于其他语言来说比较奇葩，不过也不是很难接受：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span> <span class="keyword">or</span> <span class="keyword">True</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span> <span class="keyword">or</span> <span class="keyword">False</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">False</span> <span class="keyword">or</span> <span class="keyword">False</span></div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> &gt; <span class="number">3</span> <span class="keyword">or</span> <span class="number">1</span> &gt; <span class="number">3</span></div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
<p>布尔值经常用于条件判断：</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><div class="line"><span class="built_in">if</span> age &gt;= <span class="number">18</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">'adult'</span>)</div><div class="line"><span class="built_in">else</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">'teenager'</span>)</div></pre></td></tr></table></figure>
<h2 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h2><p>空值是 Python 里一个特殊的值，用 <code>None</code> 表示。None 不能理解为0，因为0是有意义的，而 None 是一个特殊的空值。</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量名必须是大小写英文、数字和 <code>_</code> 的组合，且不能用数字开头。</p>
<p>可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量。</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><div class="line"><span class="keyword">a</span> = <span class="number">123</span> <span class="comment"># a是整数</span></div><div class="line">print(<span class="keyword">a</span>)</div><div class="line"><span class="keyword">a</span> = <span class="string">'ABC'</span> <span class="comment"># a变为字符串</span></div><div class="line">print(<span class="keyword">a</span>)</div></pre></td></tr></table></figure>
<p>这种变量本身类型不固定的语言称之为动态语言，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。</p>
<p>对于动态语言的这种特性是好是坏，笔者无法做出断言，不过建议不要随意修改变量的类型，这会导致出错从概率变大，而且不易维护。</p>
<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，通常用全部大写的变量名表示常量：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><div class="line"><span class="attr">PI</span> = <span class="number">3.14159265359</span></div></pre></td></tr></table></figure>
<blockquote>
<p>但事实上PI仍然是一个变量，Python根本没有任何机制保证PI不会被改变，所以，用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变变量PI的值，也没人能拦住你。</p>
</blockquote>
<h1 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h1><h2 id="编码转换"><a href="#编码转换" class="headerlink" title="编码转换"></a>编码转换</h2><p>前文已经提过，在最新的 Python 3 版本中，字符串 str 是以 Unicode 编码的，通过 <code>encode()</code> 方法可以将 str 编码为指定的 bytes，例如：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'ABC'</span>.encode(<span class="string">'ascii'</span>)</div><div class="line">b<span class="string">'ABC'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>)</div><div class="line">b<span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'中文'</span>.encode(<span class="string">'ascii'</span>)</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">UnicodeEncodeError:</span> <span class="string">'ascii'</span> codec can<span class="string">'t encode characters in position 0-1: ordinal not in range(128)</span></div></pre></td></tr></table></figure>
<p>反过来，要把 bytes 变为 str，就需要用 <code>decode()</code> 方法，例如：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; b<span class="string">'ABC'</span>.decode(<span class="string">'ascii'</span>)</div><div class="line"><span class="string">'ABC'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; b<span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">'utf-8'</span>)</div><div class="line"><span class="string">'中文'</span></div></pre></td></tr></table></figure>
<p>由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：</p>
<figure class="highlight d"><table><tr><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env python3</span></div><div class="line"># -*- coding: utf-<span class="number">8</span> -*-</div></pre></td></tr></table></figure>
<p>第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；</p>
<p>第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。</p>
<p>申明了UTF-8编码并不意味着你的.py文件就是UTF-8编码的，必须并且要确保文本编辑器正在使用 UTF-8 without BOM 编码</p>
<h2 id="长度计算"><a href="#长度计算" class="headerlink" title="长度计算"></a>长度计算</h2><p>要计算str包含多少个字符，可以用len()函数，len()函数计算的是str的字符数，如果换成bytes，len()函数就计算字节数：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; len(b<span class="string">'ABC'</span>)</div><div class="line"><span class="number">3</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; len(b<span class="string">'\xe4\xb8\xad\xe6\x96\x87'</span>)</div><div class="line"><span class="number">6</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; len(<span class="string">'中文'</span>.encode(<span class="string">'utf-8'</span>))</div><div class="line"><span class="number">6</span></div></pre></td></tr></table></figure>
<h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><p>在Python中，采用的格式化方式和C语言是一致的，用 <code>%</code> 实现</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'Hello, %s'</span> % <span class="string">'world'</span></div><div class="line"><span class="string">'Hello, world'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'Hi, %s, you have $%d.'</span> % (<span class="string">'Michael'</span>, <span class="number">1000000</span>)</div><div class="line"><span class="string">'Hi, Michael, you have $1000000.'</span></div></pre></td></tr></table></figure>
<p>常见的占位符有：</p>
<table>
<thead>
<tr>
<th>占位符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>%d</td>
<td>整数</td>
</tr>
<tr>
<td>%f</td>
<td>浮点数</td>
</tr>
<tr>
<td>%s</td>
<td>字符串</td>
</tr>
<tr>
<td>%x</td>
<td>十六进制整数</td>
</tr>
</tbody>
</table>
<p>其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数：</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; '%<span class="number">2</span>d-%<span class="number">02</span>d' % (<span class="number">3</span>, <span class="number">1</span>)</div><div class="line">' <span class="number">3</span><span class="number">-01</span>'</div><div class="line">&gt;&gt;&gt; '%<span class="number">.2</span>f' % <span class="number">3.1415926</span></div><div class="line">'<span class="number">3.14</span>'</div></pre></td></tr></table></figure>
<p>如果你不太确定应该用什么，<code>%s</code> 永远起作用，它会把任何数据类型转换为字符串：</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="symbol">'Age</span>: %s. Gender: %s' % (<span class="number">25</span>, <span class="literal">True</span>)</div><div class="line"><span class="symbol">'Age</span>: <span class="number">25</span>. Gender: <span class="literal">True</span>'</div></pre></td></tr></table></figure>
<p>如果要在字符串里显示 % ，可以用 %% 表示：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'growth rate: %d %%'</span> % <span class="number">7</span></div><div class="line"><span class="string">'growth rate: 7 %'</span></div></pre></td></tr></table></figure>
<h2 id="匹配和搜索文本"><a href="#匹配和搜索文本" class="headerlink" title="匹配和搜索文本"></a>匹配和搜索文本</h2><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>text = <span class="string">'yeah, but no, but yeah, but no, but yeah'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Exact match</span></div><div class="line"><span class="meta">... </span>text == <span class="string">'yeah'</span></div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Match at start or end</span></div><div class="line"><span class="meta">... </span>text.startswith(<span class="string">'yeah'</span>)</div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>text.endswith(<span class="string">'no'</span>)</div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Search for the location of the first occurrence</span></div><div class="line"><span class="meta">... </span>text.find(<span class="string">'no'</span>)</div><div class="line"><span class="number">10</span></div></pre></td></tr></table></figure>
<h2 id="字符串拼凑"><a href="#字符串拼凑" class="headerlink" title="字符串拼凑"></a>字符串拼凑</h2><p>str 支持 +、+= 运算符：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; s1 = <span class="string">'a'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s2 = <span class="string">'b'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s1 + s2</div><div class="line"><span class="string">'ab'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s1 += s2</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s1</div><div class="line"><span class="string">'ab'</span></div></pre></td></tr></table></figure>
<h2 id="字符串分割、合并"><a href="#字符串分割、合并" class="headerlink" title="字符串分割、合并"></a>字符串分割、合并</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; s = <span class="string">'my name is python'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; arr = s.split(<span class="string">' '</span>)</div><div class="line">[<span class="string">'my'</span>, <span class="string">'name'</span>, <span class="string">'is'</span>, <span class="string">'python'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'-'</span>.join(arr)</div><div class="line"><span class="string">'my-name-is-python'</span></div></pre></td></tr></table></figure>
<h2 id="字符串替换"><a href="#字符串替换" class="headerlink" title="字符串替换"></a>字符串替换</h2><figure class="highlight vbnet"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="keyword">text</span> = <span class="comment">'yeah, but no, but yeah, but no, but yeah'</span></div><div class="line">&gt;&gt;&gt; <span class="keyword">text</span>.replace(<span class="comment">'yeah', 'yep')</span></div><div class="line"><span class="comment">'yep, but no, but yep, but no, but yep'</span></div></pre></td></tr></table></figure>
<h2 id="去除两侧字符"><a href="#去除两侧字符" class="headerlink" title="去除两侧字符"></a>去除两侧字符</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; s = <span class="string">' test '</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s.strip(<span class="string">' '</span>)</div><div class="line"><span class="string">'test'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s.lstrip(<span class="string">' '</span>)</div><div class="line"><span class="string">'test '</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s.rstrip(<span class="string">' '</span>)</div><div class="line"><span class="string">' test'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; s.rstrip(<span class="string">'t '</span>)</div><div class="line"><span class="string">' tes'</span></div></pre></td></tr></table></figure>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>正则表达式的使用见这个<a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143193331387014ccd1040c814dee8b2164bb4f064cff000" target="_blank" rel="external">教程</a>，需要注意的是正则规则使用 <code>r&#39;&#39;</code> 格式的字符串，可以减少大量的转义字符。</p>
<p>这边只介绍简单的字符提取，提取结果是 None or 字符串数组：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">result = re.findall(<span class="string">r'(?&lt;=uploads)/.*'</span>, url)</div><div class="line"><span class="keyword">if</span> result <span class="keyword">and</span> len(result) &gt; <span class="number">0</span>:</div><div class="line">    result = result[<span class="number">0</span>]</div></pre></td></tr></table></figure>
<h1 id="list-amp-tuple"><a href="#list-amp-tuple" class="headerlink" title="list &amp; tuple"></a>list &amp; tuple</h1><h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p>list是一种有序的集合，可以随时添加和删除其中的元素。</p>
<h3 id="初始化和检索"><a href="#初始化和检索" class="headerlink" title="初始化和检索"></a>初始化和检索</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; len(classmates)</div><div class="line"><span class="number">3</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates[<span class="number">0</span>]</div><div class="line"><span class="string">'Michael'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates[-<span class="number">1</span>]</div><div class="line"><span class="string">'Tracy'</span></div></pre></td></tr></table></figure>
<p>下标为负数时表示逆向检索，下标越界会导致崩溃</p>
<h3 id="插入、删除、替换元素"><a href="#插入、删除、替换元素" class="headerlink" title="插入、删除、替换元素"></a>插入、删除、替换元素</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates.append(<span class="string">'Adam'</span>)</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>, <span class="string">'Adam'</span>]</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates.insert(<span class="number">1</span>, <span class="string">'Jack'</span>)</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Jack'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>, <span class="string">'Adam'</span>]</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates.pop()</div><div class="line"><span class="string">'Adam'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Jack'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates.pop(<span class="number">1</span>)</div><div class="line"><span class="string">'Jack'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates[<span class="number">1</span>] = <span class="string">'Sarah'</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>]</div></pre></td></tr></table></figure>
<h2 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h2><p>tuple和list非常类似，但是tuple一旦初始化就不能修改。</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; classmates = (<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>)</div></pre></td></tr></table></figure>
<p>不可变的tuple有什么意义？因为tuple不可变，所以代码更安全。如果可能，能用tuple代替list就尽量用tuple。</p>
<p>一个空的tuple:</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; t = ()</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; t</div><div class="line">()</div></pre></td></tr></table></figure>
<p>一个只有1个元素的tuple:</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; t = (<span class="number">1</span>,)</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; t</div><div class="line">(<span class="number">1</span>,)</div></pre></td></tr></table></figure>
<p>Why?</p>
<p>这是因为括号 <code>()</code> 既可以表示 tuple，又可以表示数学公式中的小括号，这会导致 <code>(1)</code> 产生歧义，因此，Python 规定，<code>(1)</code> 按小括号进行计算，表示只有一个元素的 tuple 时，加上逗号来消除歧义。</p>
<h1 id="dict-amp-set"><a href="#dict-amp-set" class="headerlink" title="dict &amp; set"></a>dict &amp; set</h1><h2 id="dict"><a href="#dict" class="headerlink" title="dict"></a>dict</h2><p>Python内置了字典 <a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/00143167793538255adf33371774853a0ef943280573f4d000" target="_blank" rel="external">dict</a> 的支持，dict 全称 dictionary，在其他语言中也称为 map，使用键-值（key-value）存储，具有极快的查找速度。</p>
<blockquote>
<p>dict的key必须是不可变对象，这是因为dict根据key来计算value的存储位置，如果每次计算相同的key得出的结果不同，那dict内部就完全混乱了。这个通过key计算位置的算法称为哈希算法（Hash）。要保证hash的正确性，作为key的对象就不能变。在Python中，字符串、整数等都是不可变的，因此，可以放心地作为key。</p>
</blockquote>
<h3 id="初始化和检索-1"><a href="#初始化和检索-1" class="headerlink" title="初始化和检索"></a>初始化和检索</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d = &#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Bob'</span>: <span class="number">75</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Michael'</span>]</div><div class="line"><span class="number">95</span></div></pre></td></tr></table></figure>
<p>检索时如果 key 不存在就会报错：</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Thomas'</span>]</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></div><div class="line"><span class="symbol">KeyError:</span> <span class="string">'Thomas'</span></div></pre></td></tr></table></figure>
<p>有两个方案可以解决这个问题，一个是取值之前使用 <code>in</code> 判断 key 是否存在，另一个是用 <code>get()</code> 方法取值，其中 <code>get()</code> 方法在查找失败时，默认返回 None， 也可以指定 Value。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; <span class="string">'Thomas'</span> <span class="keyword">in</span> d</span></div><div class="line">False</div><div class="line"><span class="meta"></span></div><div class="line">&gt;<span class="bash">&gt;&gt; d.get(<span class="string">'Thomas'</span>)</span></div><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; d.get(<span class="string">'Thomas'</span>, -1)</span></div><div class="line">-1</div></pre></td></tr></table></figure>
<h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><p>set和dict类似，也是一组key的集合，但不存储value。由于key不能重复，所以，在set中，没有重复的key，重复元素在set中自动被过滤。</p>
<h3 id="初始化、检索set"><a href="#初始化、检索set" class="headerlink" title="初始化、检索set"></a>初始化、检索set</h3><figure class="highlight lsl"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; s = set([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>])</div><div class="line">&gt;&gt;&gt; s</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</div></pre></td></tr></table></figure>
<h3 id="添加、删除元素"><a href="#添加、删除元素" class="headerlink" title="添加、删除元素"></a>添加、删除元素</h3><figure class="highlight lsl"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; s.add(<span class="number">4</span>)</div><div class="line">&gt;&gt;&gt; s</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line">&gt;&gt;&gt; s.add(<span class="number">4</span>)</div><div class="line">&gt;&gt;&gt; s</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</div><div class="line"></div><div class="line">&gt;&gt;&gt; s.remove(<span class="number">4</span>)</div><div class="line">&gt;&gt;&gt; s</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</div></pre></td></tr></table></figure>
<h3 id="交集、并集"><a href="#交集、并集" class="headerlink" title="交集、并集"></a>交集、并集</h3><figure class="highlight lsl"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; s1 = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line">&gt;&gt;&gt; s2 = set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line">&gt;&gt;&gt; s1 &amp; s2</div><div class="line">&#123;<span class="number">2</span>, <span class="number">3</span>&#125;</div><div class="line">&gt;&gt;&gt; s1 | s2</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</div></pre></td></tr></table></figure>
<p><em>注意：返回None的时候Python的交互式命令行不显示结果。</em></p>
<h3 id="插入、删除、替换元素-1"><a href="#插入、删除、替换元素-1" class="headerlink" title="插入、删除、替换元素"></a>插入、删除、替换元素</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Adam'</span>] = <span class="number">67</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Adam'</span>]</div><div class="line"><span class="number">67</span></div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d.pop(<span class="string">'Bob'</span>)</div><div class="line"><span class="number">75</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d</div><div class="line">&#123;<span class="string">'Michael'</span>: <span class="number">95</span>, <span class="string">'Tracy'</span>: <span class="number">85</span>&#125;</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Jack'</span>] = <span class="number">90</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Jack'</span>]</div><div class="line"><span class="number">90</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Jack'</span>] = <span class="number">88</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; d[<span class="string">'Jack'</span>]</div><div class="line"><span class="number">88</span></div></pre></td></tr></table></figure>
<h1 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h1><p><code>if</code> 语句的形式：</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><div class="line">if <span class="params">&lt;x1&gt;</span>:</div><div class="line">    <span class="params">&lt;执行<span class="number">1</span>&gt;</span></div><div class="line">elif <span class="params">&lt;x2&gt;</span>:</div><div class="line">    <span class="params">&lt;执行<span class="number">2</span>&gt;</span></div><div class="line">elif <span class="params">&lt;x3&gt;</span>:</div><div class="line">    <span class="params">&lt;执行<span class="number">3</span>&gt;</span></div><div class="line"><span class="symbol">else:</span></div><div class="line">    <span class="params">&lt;执行<span class="number">4</span>&gt;</span></div></pre></td></tr></table></figure>
<p>只要<code>x</code>是非零数值、非空字符串、非空list、非空tuple、非空dict、非空set、非None等，就判断为True，否则为False。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> []:</div><div class="line"><span class="meta">... </span>    print(<span class="keyword">True</span>)</div><div class="line"><span class="meta">... </span><span class="keyword">else</span>:</div><div class="line"><span class="meta">... </span>    print(<span class="keyword">False</span>)</div><div class="line"><span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="keyword">None</span>:</div><div class="line"><span class="meta">... </span>    print(<span class="string">'None is True'</span>)</div><div class="line"><span class="meta">... </span><span class="keyword">else</span>:</div><div class="line"><span class="meta">... </span>    print(<span class="string">'None is False'</span>)</div><div class="line">...</div><div class="line"><span class="keyword">None</span> <span class="keyword">is</span> <span class="keyword">False</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="number">0</span>:</div><div class="line"><span class="meta">... </span>    print(<span class="string">'0 is True'</span>)</div><div class="line"><span class="meta">... </span><span class="keyword">else</span>:</div><div class="line"><span class="meta">... </span>    print(<span class="string">'0 is False'</span>)</div><div class="line">...</div><div class="line"><span class="number">0</span> <span class="keyword">is</span> <span class="keyword">False</span></div></pre></td></tr></table></figure>
<h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h1><p><code>for x in ...</code> 循环</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><div class="line"><span class="built_in">sum</span> = <span class="number">0</span></div><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]:</div><div class="line">    <span class="built_in">sum</span> = <span class="built_in">sum</span> + x</div><div class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</div></pre></td></tr></table></figure>
<p>用 <code>range()</code> 生成序列整数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">arr = []</div><div class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(2, 10):</div><div class="line">    arr.append(x)</div><div class="line"><span class="built_in">print</span>(<span class="string">'arr ='</span>, arr)</div><div class="line"><span class="comment"># arr = [2, 3, 4, 5, 6, 7, 8, 9]</span></div></pre></td></tr></table></figure>
<p>用 <code>range()</code> 生成 list</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><div class="line">arr2 = <span class="type">list</span>(range(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>))</div><div class="line">print('arr2 =', arr2)</div><div class="line"># arr2 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</div></pre></td></tr></table></figure>
<p><code>while</code> 循环</p>
<figure class="highlight excel"><table><tr><td class="code"><pre><div class="line"><span class="built_in">sum</span> = <span class="number">0</span></div><div class="line"><span class="built_in">n</span> = <span class="number">99</span></div><div class="line">while <span class="built_in">n</span> &gt; <span class="symbol">0:</span></div><div class="line">    <span class="built_in">sum</span> = <span class="built_in">sum</span> + <span class="built_in">n</span></div><div class="line">    <span class="built_in">n</span> = <span class="built_in">n</span> - <span class="number">2</span></div><div class="line">print(<span class="built_in">sum</span>)</div></pre></td></tr></table></figure>
<h1 id="高级特性"><a href="#高级特性" class="headerlink" title="高级特性"></a>高级特性</h1><h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;</span>&gt; L = [<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>, <span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</div><div class="line"><span class="comment"># 从0到2</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; L[<span class="number">0</span><span class="symbol">:</span><span class="number">3</span>]</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>]</div><div class="line"><span class="comment"># 从2到3</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; L[<span class="number">2</span><span class="symbol">:</span><span class="number">4</span>]</div><div class="line">[<span class="string">'Tracy'</span>, <span class="string">'Bob'</span>]</div><div class="line"><span class="comment"># 从0到2</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; L[<span class="symbol">:</span><span class="number">3</span>]</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>]</div><div class="line"><span class="comment"># 从2到结尾</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; L[<span class="number">2</span><span class="symbol">:</span>]</div><div class="line">[<span class="string">'Tracy'</span>, <span class="string">'Bob'</span>, <span class="string">'Jack'</span>]</div><div class="line"><span class="comment"># 下标-1表示最后一个索引值</span></div><div class="line"><span class="meta">&gt;&gt;</span>&gt; L[<span class="number">0</span><span class="symbol">:-</span><span class="number">1</span>]</div><div class="line">[<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>, <span class="string">'Bob'</span>]</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; L = list(range(100))</span></div><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; L</span></div><div class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]</div><div class="line"><span class="meta">#</span><span class="bash"> 前10个数，每两个取一个</span></div><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; L[:10:2]</span></div><div class="line">[0, 2, 4, 6, 8]</div><div class="line"><span class="meta">#</span><span class="bash"> 所有数，每5个取一个</span></div><div class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; L[::5]</span></div><div class="line">[0, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95]</div></pre></td></tr></table></figure>
<p><strong>tuple 和 str 也可以进行切片操作，操作结果分别是 tuple 和 str。</strong></p>
<h2 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h2><h3 id="list-1"><a href="#list-1" class="headerlink" title="list"></a>list</h3><p>迭代 value</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>L = [<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>]</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> x <span class="keyword">in</span> L:</div><div class="line"><span class="meta">... </span>    print(x)</div><div class="line">...</div><div class="line">Michael</div><div class="line">Sarah</div><div class="line">Tracy</div></pre></td></tr></table></figure>
<p>同时迭代 index, value</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><div class="line">&gt;&gt;&gt; <span class="keyword">for</span> <span class="selector-tag">i</span>, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</div><div class="line">...     print(<span class="selector-tag">i</span>, value)</div><div class="line">...</div><div class="line"><span class="number">0</span> A</div><div class="line"><span class="number">1</span> B</div><div class="line"><span class="number">2</span> C</div></pre></td></tr></table></figure>
<h3 id="dict-1"><a href="#dict-1" class="headerlink" title="dict"></a>dict</h3><p>迭代 key</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> d:</div><div class="line"><span class="meta">... </span>    print(key)</div><div class="line">a</div><div class="line">c</div><div class="line">b</div></pre></td></tr></table></figure>
<p>迭代 value</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> v <span class="keyword">in</span> d.values():</div><div class="line"><span class="meta">... </span>    print(v)</div><div class="line"><span class="number">2</span></div><div class="line"><span class="number">1</span></div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure>
<p>同时迭代 key, value</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</div><div class="line"><span class="meta">... </span>    print(k, v)</div><div class="line">b <span class="number">2</span></div><div class="line">a <span class="number">1</span></div><div class="line">c <span class="number">3</span></div></pre></td></tr></table></figure>
<p>当我们使用for循环时，只要作用于一个可迭代对象，for循环就可以正常运行，我们不太关心该对象究竟是list还是其他数据类型。</p>
<p>那么，如何判断一个对象是可迭代对象呢？方法是通过collections模块的Iterable类型判断：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># str是否可迭代</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterable) <span class="comment"># list是否可迭代</span></div><div class="line"><span class="keyword">True</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">123</span>, Iterable) <span class="comment"># 整数是否可迭代</span></div><div class="line"><span class="keyword">False</span></div></pre></td></tr></table></figure>
<p>所以 str 也是可迭代的。</p>
<h1 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h1><p>最初列大纲时，是没有进阶知识这一文的，因为差不多都是基础知识，但是写着写着发现 demo 太多，导致篇幅有点大，决定分出去，又不太想写个一二三，就标题党一回，叫进阶知识了，虽然不是多高深，但相对此文的基础语法，还是有一定提高的。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://codingpub.github.io/2016/09/05/Python爬虫入门-基础知识/" data-id="cjgexdpi3000h2p1yqh8nvqbs" class="article-share-link">分享到</a><div class="tags"><a href="/tags/爬虫/">爬虫</a></div><div class="post-nav"><a href="/2016/09/05/Python爬虫入门-进阶知识/" class="pre">Python爬虫入门-进阶知识</a><a href="/2016/09/05/Python爬虫入门-开发环境/" class="next">Python爬虫入门-开发环境</a></div><div id="disqus_thread"><script>var disqus_shortname = 'codingpub';
var disqus_identifier = '2016/09/05/Python爬虫入门-基础知识/';
var disqus_title = 'Python爬虫入门-基础知识';
var disqus_url = 'http://codingpub.github.io/2016/09/05/Python爬虫入门-基础知识/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//codingpub.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Google Search"/><input type="hidden" name="sitesearch" value="http://codingpub.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他/">其他</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发工具/">开发工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/跨平台开发/">跨平台开发</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Universal-Link/" style="font-size: 15px;">Universal Link</a> <a href="/tags/热更新/" style="font-size: 15px;">热更新</a> <a href="/tags/OS-X/" style="font-size: 15px;">OS X</a> <a href="/tags/网络接口/" style="font-size: 15px;">网络接口</a> <a href="/tags/Fiddler/" style="font-size: 15px;">Fiddler</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/Sublime-Text/" style="font-size: 15px;">Sublime Text</a> <a href="/tags/React-Native/" style="font-size: 15px;">React Native</a> <a href="/tags/CodePush/" style="font-size: 15px;">CodePush</a> <a href="/tags/iOS9/" style="font-size: 15px;">iOS9</a> <a href="/tags/ATS/" style="font-size: 15px;">ATS</a> <a href="/tags/VS-Code/" style="font-size: 15px;">VS Code</a> <a href="/tags/博客/" style="font-size: 15px;">博客</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/微信小程序/" style="font-size: 15px;">微信小程序</a> <a href="/tags/路由器/" style="font-size: 15px;">路由器</a> <a href="/tags/梯子/" style="font-size: 15px;">梯子</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/04/25/CodePush入门教程/">CodePush入门教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/22/路由器折腾记/">路由器折腾记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/16/VS-Code-for-markdown/">VS Code for markdown</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/16/VS-Code-for-Python/">VS Code for Python</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/10/VS-Code/">VS Code</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/09/RN初体验之环境篇/">RN初体验之环境篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/22/微信小程序瀑布流的实现和内存优化/">微信小程序瀑布流的实现和内存优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/27/OS-X-添加定时任务/">OS X 添加定时任务</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/07/更新Hexo3-x报错/">更新Hexo 3.x 报错</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/05/PrettyTable/">PrettyTable</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//codingpub.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Coding Pub.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-76019304-1','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?8c93fd4ddef9e7d0dbe65a2f1be22919";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>