<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="description" content="喜欢在夜深人静的时候敲键盘">



<title>创建个人博客（三）- Hexo | Coding Pub</title>






    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


</head>
<body>
    <div class="wrapper">
        <header>
  <nav class="navbar">
    <div class="container">
      <div class="navbar-header header-logo">
        <a href="/">CodingPub&#39;s Blog</a>
      </div>
      <div class="menu navbar-right">
        
        <a class="menu-item" href="/archives">Posts</a>
        
        <a class="menu-item" href="/category">Categories</a>
        
        <a class="menu-item" href="/tag">Tags</a>
        
        <a class="menu-item" href="/about">About</a>
        

        <form class="search" action="https://google.com/search" method="get" accept-charset="utf-8" target="_top">
          <input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search">
          <input name="sitesearch" value="codingpub.github.io" type="hidden">
        </form>

        <input id="switch_default" type="checkbox" class="switch_default">
        <label for="switch_default" class="toggleBtn"></label>
      </div>
    </div>
  </nav>

  
  <nav class="navbar-mobile" id="nav-mobile">
    <div class="container">
      <div class="navbar-header">
        <div>
          <a href="/">CodingPub&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
        </div>
        <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
      </div>
      <div class="menu" id="mobile-menu">
        
        <a class="menu-item" href="/archives">Posts</a>
        
        <a class="menu-item" href="/category">Categories</a>
        
        <a class="menu-item" href="/tag">Tags</a>
        
        <a class="menu-item" href="/about">About</a>
        
      </div>
    </div>
  </nav>
</header>
<script>
  var mobileBtn = function f() {
    var toggleMenu = document.getElementsByClassName('menu-toggle')[0]
    var mobileMenu = document.getElementById('mobile-menu')
    if (toggleMenu.classList.contains('active')) {
      toggleMenu.classList.remove('active')
      mobileMenu.classList.remove('active')
    } else {
      toggleMenu.classList.add('active')
      mobileMenu.classList.add('active')
    }
  }
</script>

        <div class="main">
            <div class="container">
    <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>  
  <article class="post-wrap">
    <header class="post-header">
      <h1 class="post-title">创建个人博客（三）- Hexo</h1>
      
      <div class="post-meta">
         Author:
        <a itemprop="author" rel="author" href="/">Xiaobin, Lin</a>
         
        <span class="post-time">
          Date: <a href="#">2016-03-31</a>
        </span>
         
        <span class="post-category">
          Category: 
          <a href="/categories/其他/">其他</a>
          
        </span>
        
      </div>
      
    </header>

    <div class="post-content">
      <p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> 出自台湾大学生<a href="https://twitter.com/tommy351" target="_blank" rel="noopener">SkyArrow</a>之手，是一个基于 Node.js 的静态博客框架，编译上百篇文字只需要几秒。在已经有 Octopress 和 jekyll的情况下，SkyArrow为什么要自己造轮子呢，可以他的这篇文章：<a href="https://zespia.tw/blog/2012/10/11/hexo-debut/" target="_blank" rel="noopener">Hexo颯爽登場！</a></p>
<a id="more"></a>

<p>Hexo的特点：</p>
<ul>
<li>极速生成静态页面</li>
<li>支持Markdown</li>
<li>一键部署博客</li>
<li>丰富的插件支持</li>
</ul>
<p>Hexo 依赖于 git 和 Node.js，在安装 hexo 之前，需要确保这两个工具正确安装。git 很早就已经安装完成了就不去翻教程了，看官自行 Google ~ 附 Node.js <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">下载地址</a>，Mac 下安装也是很方便。</p>
<blockquote>
<p>以下内容基于 Hexo 3.2.0 版本</p>
</blockquote>
<h2 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure>

<p>一步到位，除了家里的网速让人比较捉急，安装还是很简单的。</p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>用命令行工具创建将要用来存放 hexo 文件的目录，并进入该目录下</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mkdir hexo</span><br><span class="line">cd hexo</span><br><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p>初始化之后，目录结构如下：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">└── themes</span><br><span class="line"></span><br><span class="line">3 directories, 2 files</span><br></pre></td></tr></table></figure>

<p>Ps: 不知道用梯子是否会快一些，反正博主安装的时候特别慢！慢！慢！</p>
<p>初始化之后就可以把整个 hexo 目录同步到 Github 或者其他的代码托管平台，可以做版本控制，防止文章丢失，也可以一次初始化，各处同步，避免重复进行配置操作。需要注意的是 node_modules 由于文件太多，建议不做同步。在需要同步的设备上，先 init 一个新的 hexo，再吧文件夹拷贝过来即可。</p>
<h2 id="本地预览"><a href="#本地预览" class="headerlink" title="本地预览"></a>本地预览</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo server</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>两条指令二选一，运行本地服务后，可以通过浏览器访问 <code>http://yourusername.github.io/</code>，预览效果。</p>
<h2 id="生成静态文件"><a href="#生成静态文件" class="headerlink" title="生成静态文件"></a>生成静态文件</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>两条指令二选一，该命令会在 public 目录导出静态 html 文件。注意导出的静态文件由于链接尚未修改，不能直接使用浏览器预览。鉴于 hexo 支持直接将文章发布到 Github Pages，足以满足博主需求，也就没有纠结这个问题的必要。</p>
<h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p>安装依赖包，此处需要自备<code>梯子</code>，如果没有，可以试试这个 <a href="http://www.askca.cn/main/helpShow/type/mac.html" target="_blank" rel="noopener">VPN</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-jade --save</span><br><span class="line">npm install hexo-renderer-sass --save</span><br></pre></td></tr></table></figure>

<p>如果安装过程中出现错误，先卸载掉之前安装出问题的包</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm uninstall  hexo-renderer-jade --save</span><br><span class="line">npm uninstall  hexo-renderer-sass --save</span><br></pre></td></tr></table></figure>

<p>再切换到 <a href="http://npm.taobao.org/" target="_blank" rel="noopener">淘宝的NPM镜像</a></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>使用淘宝的 cnpm 安装依赖包</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install hexo-renderer-jade --save</span><br><span class="line">cnpm install hexo-renderer-sass --save</span><br></pre></td></tr></table></figure>

<p>准备工作完成后，开始安装主题，首先找到你喜欢的 <a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">主题</a>，hexo 换主题很是方便，因此博主先挑了一个还算顺眼的主题先用着 <a href="https://github.com/CodingPub/maupassant-hexo" target="_blank" rel="noopener">maupassant</a>。强迫症患者一枚，需要深度自定义自家博客的样式，找到主题的第一时间就是 fork 一份到自己的 Github。</p>
<p>clone 主题到 hexo 的 themes 目录</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/CodingPub/maupassant-hexo themes/maupassant</span><br></pre></td></tr></table></figure>

<p>如果你跟我一样使用 git 同步 hexo，可以把主题作为 hexo 的 submodule，而不是执行上面的 clone 指令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git submodule add -b master --force https://github.com/CodingPub/maupassant-hexo themes/maupassant</span><br></pre></td></tr></table></figure>

<p>在需要同步 hexo 的设备上同步主题需要执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git submodule init</span><br><span class="line">git submodule update</span><br></pre></td></tr></table></figure>

<p>这样主题就可以作为 hexo 的一个子模块单独配置了，然后你就可以用同一套主题，开 N 个博客了 ~</p>
<p>将主题放到 hexo 的指定目录后，再修改 hexo 根目录下的 _config.yml 文件，指定 theme 为 选定的 maupassant 主题就可以了。重新运行 hexo 看看效果吧。</p>
<p>maupassant 的深度定制等博主捣鼓好，再另外写篇博客记录吧。</p>
<h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new "blog title"</span><br><span class="line">hexo n "blog title"</span><br></pre></td></tr></table></figure>

<p>两条指令二选一，会在 <code>hexo/source/_posts</code> 目录下生成对应名称的文件，建议使用 markdown 编辑器写博客，Mac 下可以使用 MacDown，用了一阵子感觉还不错，目前还没有找到更好的替代品，欢迎推荐。</p>
<p>文章头部内容如下</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: blog title</span><br><span class="line">date: 2016-04-03 22:18:43</span><br><span class="line">categories: 分类1</span><br><span class="line">tags: 标签1</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>其中标签或者分类可以有多个，如：[标签1, 标签2]</p>
<h2 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new page "about"</span><br></pre></td></tr></table></figure>

<p>使用 <code>hexo/scaffolds/page.md</code> 模板创建一个新的页面，hexo 默认情况下并没有生成 about 页面，这里使用该命令创建了一个主题的<code>_config.yml</code>文件中配置的 about 页面：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  - page: home</span><br><span class="line">    directory: .</span><br><span class="line">    icon: fa-home</span><br><span class="line">  - page: archive</span><br><span class="line">    directory: archives/</span><br><span class="line">    icon: fa-archive</span><br><span class="line">  - page: about</span><br><span class="line">    directory: about/</span><br><span class="line">    icon: fa-user</span><br></pre></td></tr></table></figure>

<p>在<code>hexo/source</code>目录下多了一个 about 文件夹，编写其中的 index.md 文件就可以实现关于页面，格式同文章一致。</p>
<p>这里可能需要用到一些常用图标，建议使用 <a href="http://fontawesome.io/" target="_blank" rel="noopener">Font Awesome</a>，可以选择需要的<a href="http://fontawesome.io/icons/" target="_blank" rel="noopener">图标</a>，并按照指定规范引入，</p>
<p>如：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">预览： &lt;i class="fa fa-user"&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure>

<p>预览： <i class="fa fa-user"></i></p>
<h2 id="新建草稿"><a href="#新建草稿" class="headerlink" title="新建草稿"></a>新建草稿</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo new draft "just a draft"</span><br></pre></td></tr></table></figure>

<p>在<code>hexo/source/_drafts</code>目录下生成一篇新的草稿，该草稿不会生成到<code>hexo/public</code>目录，也不会发不到 Github Pages 等托管平台。</p>
<h2 id="预览草稿"><a href="#预览草稿" class="headerlink" title="预览草稿"></a>预览草稿</h2><p>方案一：</p>
<p>如下方式启动 server</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo server --drafts</span><br></pre></td></tr></table></figure>

<p>方案二：</p>
<p>修改 <code>hexo/_config.yml</code> 下的 render_drafts 配置为 true</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">render_drafts: true</span><br></pre></td></tr></table></figure>

<p>个人建议还是方案一，方案二也需要重启 server。</p>
<h2 id="发布草稿"><a href="#发布草稿" class="headerlink" title="发布草稿"></a>发布草稿</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo publish "just-a-draft"</span><br></pre></td></tr></table></figure>

<p>文章将被迁移到<code>hexo/_posts</code>目录，并自动加上当前时间。</p>
<h2 id="发布博客到-Github-Pages"><a href="#发布博客到-Github-Pages" class="headerlink" title="发布博客到 Github Pages"></a>发布博客到 Github Pages</h2><p>第一次发布需要修改 <code>hexo/_config.yml</code> 的 deploy 配置</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: &lt;repository url&gt;</span><br><span class="line">  branch: [branch]</span><br><span class="line">  message: [message]</span><br></pre></td></tr></table></figure>

<p>安装 hexo-deployer-git 插件，执行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>完成后在 hexo 目录执行发布命令，二选一</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>发布过程中如果出现以下错误</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">FATAL fatal: unable to access 'https://github.com/xxx/xxx.github.io.git/': Could not resolve host: github.com</span><br></pre></td></tr></table></figure>

<p>说明本机未配置好 SSH Key，参考《<a href="/2016/03/31/%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%BA%8C%EF%BC%89-Github-Pages/#Mac-下配置-SSH-key">Mac 下配置 SSH key</a>》配置好后，再执行一次发布命令即可。</p>
<h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><ul>
<li><p>查看 hexo 版本</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新hexo</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm update -g hexo</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新插件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm update</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="重装-hexo"><a href="#重装-hexo" class="headerlink" title="重装 hexo"></a>重装 hexo</h2>  <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd &lt;YOUR_HEXO_DIR&gt;</span><br><span class="line">rm -rf node_modules</span><br><span class="line">npm uninstall -g hexo-cli</span><br><span class="line">npm uninstall -g hexo</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<blockquote>
<p>参考</p>
</blockquote>
<ul>
<li><a href="https://zespia.tw/blog/2012/10/11/hexo-debut/" target="_blank" rel="noopener">Hexo颯爽登場！</a></li>
<li><a href="http://selfboot.cn/2014/11/30/jekyll_to_hexo/" target="_blank" rel="noopener">更换博客系统——从jekyll到hexo</a></li>
<li><a href="http://www.rockcoding.com/2016/03/02/hexo/" target="_blank" rel="noopener">使用hexo时遇到的小坑</a></li>
<li><a href="http://www.jianshu.com/p/35e197cb1273" target="_blank" rel="noopener">Hexo搭建Github-Pages博客填坑教程</a></li>
</ul>

    </div>

    
    <section class="post-copyright">
      
      <p class="copyright-item">
        <span>Author:</span>
        <span>Xiaobin, Lin</span>
      </p>
       
      <p class="copyright-item">
        <span>Permalink:</span>
        <span><a href="http://codingpub.github.io/2016/03/31/创建个人博客（三）-Hexo/">http://codingpub.github.io/2016/03/31/创建个人博客（三）-Hexo/</a></span>
      </p>
       
      <p class="copyright-item">
        <span>License:</span>
        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
      </p>
       
    </section>
    
    <section class="post-tags">
      <div>
        <span>Tag(s):</span>
        <span class="tag">
           
          <a href="/tags/博客/"># 博客</a>
           
        </span>
      </div>
      <div>
        <a href="javascript:window.history.back();">back</a>
        <span>· </span>
        <a href="/">home</a>
      </div>
    </section>
    <section class="post-nav">
      
      <a class="prev" rel="prev" href="/2016/04/10/定制Hexo-maupassant/">定制Hexo - maupassant</a>
       
      <a class="next" rel="next" href="/2016/03/31/创建个人博客（二）-Github-Pages/">创建个人博客（二）- Github Pages</a>
      
    </section>
  </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Xiaobin, Lin | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
